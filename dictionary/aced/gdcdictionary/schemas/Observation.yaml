$schema: http://json-schema.org/draft-04/schema#
id: Observation
title: Observation
type: object
namespace: http://aced-idp.org
category: Clinical
program: '*'
project: '*'
description: Measurements and simple assertions made about a patient, device or other
  subject.
additionalProperties: false
submittable: true
validators: null
systemProperties:
- id
- project_id
- state
- created_datetime
- updated_datetime
links:
- # subject
  name: Patients
  backref: Observations
  label: subject
  target_type: Patient
  multiplicity: many_to_many
  required: true
- # specimen
  name: Specimen
  backref: Observations
  label: specimen
  target_type: Specimen
  multiplicity: many_to_many
  required: false
required:
- type
- status
- note.text.value
- projects
- submitter_id
- code_coding_code
uniqueKeys:
- - id
- - project_id
  - submitter_id
properties:
  type:
    enum:
    - Observation
    description: Gen3's type field.
  id:
    $ref: _definitions.yaml#/UUID
  state:
    $ref: _definitions.yaml#/state
  submitter_id:
    description: Each record in every node will have a "submitter_id", which is a
      unique alphanumeric identifier for that record and is specified by the data
      submitter, and a "type", which is simply the node name.
    type:
    - string
    - 'null'
  projects:
    $ref: _definitions.yaml#/to_many_project
    description: Link to Gen3's project.
  project_id:
    type: string
  created_datetime:
    $ref: _definitions.yaml#/datetime
  updated_datetime:
    $ref: _definitions.yaml#/datetime
  status:
    format: code
    enum:
    - registered
    - preliminary
    - final
    - amended
    - cancelled
    - entered-in-error
    - unknown
    term:
      description: The status of the result value.  Vocabulary from http://hl7.org/fhir/ValueSet/observation-status|4.0.1
      termDef:
        term: status
        source: fhir
        cde_id: status
        cde_version: null
        term_url: http://hl7.org/fhir/ValueSet/observation-status|4.0.1
  code_coding_code:
    format: code
    # No-codeset-found-for-http://hl7.org/fhir/ValueSet/observation-codes
    type: string
    term:
      description: Describes what was observed. Sometimes this is called the observation
        "name". A reference to a code defined by a terminology system. A symbol in
        syntax defined by the system. The symbol may be a predefined code or an expression
        in a syntax defined by the coding system (e.g. post-coordination).  Vocabulary
        from http://hl7.org/fhir/ValueSet/observation-codes
      termDef:
        term: code_coding_code
        source: fhir
        cde_id: code_coding_code
        cde_version: null
        term_url: http://hl7.org/fhir/ValueSet/observation-codes
  dataAbsentReason_coding_code:
    format: code
    enum:
    - unknown
    - asked
    - temp
    - not-asked
    - masked
    - unsupported
    - astext
    - error
    - not-performed
    term:
      description: Provides a reason why the expected value in the element Observation.value[x]
        is missing. A reference to a code defined by a terminology system. A symbol
        in syntax defined by the system. The symbol may be a predefined code or an
        expression in a syntax defined by the coding system (e.g. post-coordination).  Vocabulary
        from http://hl7.org/fhir/ValueSet/data-absent-reason
      termDef:
        term: dataAbsentReason_coding_code
        source: fhir
        cde_id: dataAbsentReason_coding_code
        cde_version: null
        term_url: http://hl7.org/fhir/ValueSet/data-absent-reason
  interpretation_coding_code:
    format: code
    enum:
    - _GeneticObservationInterpretation
    - _ObservationInterpretationChange
    - _ObservationInterpretationExceptions
    - _ObservationInterpretationNormality
    - _ObservationInterpretationSusceptibility
    - EX
    - HM
    - ObservationInterpretationDetection
    - ObservationInterpretationExpectation
    - OBX
    - ReactivityObservationInterpretation
    - CAR
    - Carrier
    - B
    - D
    - U
    - W
    - <
    - '>'
    - AC
    - IE
    - QCF
    - TOX
    - A
    - N
    - I
    - MS
    - NCL
    - NS
    - R
    - S
    - VS
    - AA
    - H
    - L
    - HH
    - LL
    - HX
    - LX
    - H>
    - HU
    - E
    - L<
    - LU
    - ND
    - IND
    - NEG
    - POS
    - EXP
    - UNE
    - DET
    - SYN-R
    - NR
    - RR
    - WR
    - SDD
    - SYN-S
    term:
      description: A categorical assessment of an observation value.  For example,
        high, low, normal. A reference to a code defined by a terminology system.
        A symbol in syntax defined by the system. The symbol may be a predefined code
        or an expression in a syntax defined by the coding system (e.g. post-coordination).  Vocabulary
        from http://hl7.org/fhir/ValueSet/observation-interpretation
      termDef:
        term: interpretation_coding_code
        source: fhir
        cde_id: interpretation_coding_code
        cde_version: null
        term_url: http://hl7.org/fhir/ValueSet/observation-interpretation
  note_text:
    type: string
    description: Comments about the observation or the results. The text of the annotation
      in markdown format. Primitive value for markdown
