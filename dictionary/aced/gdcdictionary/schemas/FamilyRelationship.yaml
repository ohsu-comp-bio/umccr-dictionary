$schema: http://json-schema.org/draft-04/schema#
id: FamilyRelationship
title: NCPI Family Relationship
type: object
namespace: http://aced-idp.org
category: Administrative
program: '*'
project: '*'
description: Representation of a family relationship.
additionalProperties: false
submittable: true
validators: null
systemProperties:
- id
- project_id
- state
- created_datetime
- updated_datetime
links:
- # referenceRange
  name: Patients
  backref: FamilyRelationships
  label: referenceRange
  target_type: Patient
  multiplicity: many_to_many
  required: true
required:
- type
- status
- submitter_id
- code_coding_code
- projects
uniqueKeys:
- - id
- - project_id
  - submitter_id
properties:
  type:
    enum:
    - FamilyRelationship
    description: Gen3's type field.
  id:
    $ref: _definitions.yaml#/UUID
  state:
    $ref: _definitions.yaml#/state
  submitter_id:
    description: Each record in every node will have a "submitter_id", which is a
      unique alphanumeric identifier for that record and is specified by the data
      submitter, and a "type", which is simply the node name.
    type:
    - string
    - 'null'
  projects:
    $ref: _definitions.yaml#/to_many_project
    description: Link to Gen3's project.
  project_id:
    type: string
  created_datetime:
    $ref: _definitions.yaml#/datetime
  updated_datetime:
    $ref: _definitions.yaml#/datetime
  status:
    format: code
    enum:
    - registered
    - preliminary
    - final
    - amended
    - cancelled
    - entered-in-error
    - unknown
    term:
      description: The status of the result value.  Vocabulary from http://hl7.org/fhir/ValueSet/observation-status|4.0.1
      termDef:
        term: status
        source: fhir
        cde_id: status
        cde_version: null
        term_url: http://hl7.org/fhir/ValueSet/observation-status|4.0.1
  code_coding_code:
    format: code
    enum:
    - FAMMEMB
    term:
      description: Describes what was observed. Sometimes this is called the observation
        "name". A reference to a code defined by a terminology system. A symbol in
        syntax defined by the system. The symbol may be a predefined code or an expression
        in a syntax defined by the coding system (e.g. post-coordination).  Vocabulary
        from http://terminology.hl7.org/CodeSystem/v3-RoleCode
      termDef:
        term: code_coding_code
        source: fhir
        cde_id: code_coding_code
        cde_version: null
        term_url: http://terminology.hl7.org/CodeSystem/v3-RoleCode
  subject_reference:
    type: string
    description: The patient, or group of patients, location, or device this observation
      is about and into whose record the observation is placed. If the actual focus
      of the observation is different from the subject (or a sample of, part, or region
      of the subject), the `focus` element or the `code` itself specifies the actual
      focus of the observation. A reference to a location at which the other resource
      is found. The reference may be a relative reference, in which case it is relative
      to the service base URL, or an absolute URL that resolves to the location where
      the resource is found. The reference may be version specific or not. If the
      reference is not to a FHIR RESTful server, then it should be assumed to be version
      specific. Internal fragment references (start with '#') refer to contained resources.
  focus_reference:
    type: string
    description: The actual focus of an observation when it is not the patient of
      record representing something or someone associated with the patient such as
      a spouse, parent, fetus, or donor. For example, fetus observations in a mother's
      record.  The focus of an observation could also be an existing condition,  an
      intervention, the subject's diet,  another observation of the subject,  or a
      body structure such as tumor or implanted device.   An example use case would
      be using the Observation resource to capture whether the mother is trained to
      change her child's tracheostomy tube. In this example, the child is the patient
      of record and the mother is the focus. A reference to a location at which the
      other resource is found. The reference may be a relative reference, in which
      case it is relative to the service base URL, or an absolute URL that resolves
      to the location where the resource is found. The reference may be version specific
      or not. If the reference is not to a FHIR RESTful server, then it should be
      assumed to be version specific. Internal fragment references (start with '#')
      refer to contained resources.
  value[x]:valueCodeableConcept_coding_code:
    format: code
    enum:
    - ADOPTF
    - ADOPTM
    - HBRO
    - NBRO
    - STPBRO
    - CHLDADOPT
    - CHLDFOST
    - DAUC
    - NCHILD
    - SONC
    - STPCHLD
    - DAUADOPT
    - SONADOPT
    - DAUFOST
    - SONFOST
    - DAU
    - STPDAU
    - AUNT
    - COUSN
    - GGRPRN
    - GRNDCHILD
    - GRPRN
    - INLAW
    - NIENEPH
    - UNCLE
    - CHILD
    - EXT
    - PRN
    - SIB
    - SIGOTHR
    - FTHFOST
    - NFTH
    - STPFTH
    - GGRFTH
    - GGRMTH
    - MGGRPRN
    - PGGRPRN
    - GRNDDAU
    - GRNDSON
    - GRFTH
    - GRMTH
    - MGRPRN
    - PGRPRN
    - HSIS
    - CHLDINLAW
    - PRNINLAW
    - SIBINLAW
    - GESTM
    - MTHFOST
    - NMTH
    - STPMTH
    - TWINBRO
    - SON
    - NFTHF
    - NEPHEW
    - NIECE
    - NMTHF
    - NSIS
    - TWIN
    - TWINSIS
    - ADOPTP
    - FTH
    - MTH
    - NPRN
    - PRNFOST
    - STPPRN
    - FTHINLAW
    - MTHINLAW
    - MTHINLOAW
    - BRO
    - HSIB
    - NSIB
    - SIS
    - STPSIB
    - BROINLAW
    - SISINLAW
    - SISLINLAW
    - DOMPART
    - FMRSPS
    - SPS
    - STPSIS
    - STPSON
    - HUSB
    - WIFE
    - FTWIN
    - ITWIN
    - MUNCLE
    - PUNCLE
    term:
      description: The information determined as a result of making the observation,
        if the information has a simple value. A reference to a code defined by a
        terminology system. A symbol in syntax defined by the system. The symbol may
        be a predefined code or an expression in a syntax defined by the coding system
        (e.g. post-coordination).  Vocabulary from http://terminology.hl7.org/ValueSet/v3-FamilyMember
      termDef:
        term: value[x]:valueCodeableConcept_coding_code
        source: fhir
        cde_id: value[x]:valueCodeableConcept_coding_code
        cde_version: null
        term_url: http://terminology.hl7.org/ValueSet/v3-FamilyMember
  value[x]:valueCodeableConcept_coding_system:
    format: uri
    term:
      description: The information determined as a result of making the observation,
        if the information has a simple value. A reference to a code defined by a
        terminology system. The identification of the code system that defines the
        meaning of the symbol in the code.  Vocabulary from http://terminology.hl7.org/ValueSet/v3-FamilyMember
      termDef:
        term: value[x]:valueCodeableConcept_coding_system
        source: fhir
        cde_id: value[x]:valueCodeableConcept_coding_system
        cde_version: null
        term_url: http://terminology.hl7.org/ValueSet/v3-FamilyMember
